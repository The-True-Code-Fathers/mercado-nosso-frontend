<!-- Checkout Steps Navigation -->
<app-checkout-steps [steps]="steps()"></app-checkout-steps>

<div class="checkout-container">
  <div class="checkout-content">
    <div class="checkout-main">
      <!-- Step 0: Cart Review -->
      <div *ngIf="currentStep() === 0" class="step-container">
        <app-cart-review-step
          [orderSummary]="orderSummary()"
        ></app-cart-review-step>
      </div>

      <!-- Step 1: Shipping -->
      <app-shipping-step *ngIf="currentStep() === 1"></app-shipping-step>

      <!-- Step 2: Payment -->
      <app-payment-step *ngIf="currentStep() === 2"></app-payment-step>

      <!-- Step 3: Confirmation -->
      <app-confirmation-step
        *ngIf="currentStep() === 3"
      ></app-confirmation-step>

      <!-- Loading State -->
      <div *ngIf="isLoading()" class="loading-state">
        <div class="loading-content">
          <i class="pi pi-spin pi-spinner loading-icon"></i>
          <h3>Processando...</h3>
          <p>Preparando seu checkout</p>
        </div>
      </div>
    </div>

    <!-- Order Summary Sidebar -->
    <div class="checkout-sidebar">
      <app-order-summary [orderSummary]="orderSummary()"></app-order-summary>
    </div>
  </div>
</div>

<p-toast></p-toast>
